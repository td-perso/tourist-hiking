import{_ as d}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as l,am as m,an as i}from"./index-B0eIyr-3.js";const c={name:"CircuitTest",data(){return{mapUrl:"https://www.google.com/maps/embed?pb=!1m58!1m12!1m3!1d6422.671032568122!2d6.658426144593031!3d36.401076924931715!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m43!3e2!4m3!3m2!1d36.3958911!2d6.6565435!4m3!3m2!1d36.396466499999995!2d6.6599981999999995!4m3!3m2!1d36.397351199999996!2d6.6649236!4m3!3m2!1d36.3992887!2d6.666050599999999!4m3!3m2!1d36.402245199999996!2d6.6675255!4m3!3m2!1d36.404888!2d6.6704612!4m3!3m2!1d36.4058399!2d6.6690838!4m3!3m2!1d36.4027379!2d6.6668854!4m3!3m2!1d36.4013829!2d6.6647427!4m5!1s0x12f17671baf6f649%3A0x43d3c87c2572968!2sConstantine!3m2!1d36.3958817!2d6.656253899999999!5e0!3m2!1sen!2suk!4v1730243347749!5m2!1sen!2suk",endCoords:null,waypoints:[]}},mounted(){this.extractCoordinatesFromUrl()},methods:{extractCoordinatesFromUrl(){const n=[...new URL(this.mapUrl).searchParams.get("pb").matchAll(/!3m2!1d([\d.-]+)!2d([\d.-]+)/g)].map(a=>({lat:parseFloat(a[1]),lng:parseFloat(a[2])}));this.endCoords=n.pop(),this.waypoints=n},isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},launchNavigation(){if(this.isMobile())navigator.geolocation.getCurrentPosition(t=>{`${t.coords.latitude}${t.coords.longitude}`;const o=`${this.endCoords.lat},${this.endCoords.lng}`,n=this.waypoints.map(e=>`via:${e.lat},${e.lng}`).join("/"),a=`google.navigation:q=${o}&waypoints=${n}`;window.open(a,"_blank")},t=>{console.error("Erreur lors de la récupération de la position",t),alert("Impossible de récupérer votre position actuelle pour lancer la navigation.")});else{const t="My+Location",o=`${this.endCoords.lat},${this.endCoords.lng}`,n=this.waypoints.map(e=>`${e.lat},${e.lng}`).join("|"),a=`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${o}&waypoints=${n}`;window.open(a,"_blank")}}}},p=["src"];function u(t,o,n,a,e,s){return l(),m("div",null,[o[1]||(o[1]=i("h1",null,"Circuit Test",-1)),i("iframe",{allowfullscreen:"",frameborder:"0",height:"500",src:e.mapUrl,width:"100%"},null,8,p),i("button",{onClick:o[0]||(o[0]=(...r)=>s.launchNavigation&&s.launchNavigation(...r))}," Lancer la navigation ")])}const w=d(c,[["render",u],["__scopeId","data-v-5ecd6f10"]]);export{w as default};
